#!/bin/sh

# Patch series to correctly create events
git am ../patch/0001-efi_loader-run-CreateEvent-notify-function-based-on-.patch
git am ../patch/0002-efi_loader-check-CreateEvent-parameters.patch

# Patch series to correctly enumerate disks in bootefi
git am ../patch/0001-dm-core-Clarify-uclass_first-next_device-comments.patch
git am ../patch/0002-dm-core-Test-uclass_first-next_device-on-probe-failu.patch
git am ../patch/0003-dm-core-Add-uclass_first-next_device_check.patch
git am ../patch/0001-efi_loader-disk-iterate-only-over-valid-block-device.patch

# Rerved memory regions for Odroid C2
git am ../patch/0001-meson-gx-reserved-memory-regions.patch

# Enable debug messages in boottime services
git am ../patch/0001-efi_loader-switch-on-debug-in-efi_boottime.patch

# Launching EFI application
git am ../patch/0001-bootefi-allow-return-without-EFI_BOOT_SERVICES.Exit.patch
git am ../patch/0001-efi_loader-abort-on-unsupported-relocation-type.patch
git am ../patch/0001-efi_loader-provide-meaningful-return-code.patch

# EFI protocol services
git am ../patch/0001-efi_loader-efi_handle_protocol-set-attributes.patch
git am ../patch/0001-efi_loader-clean-up-efi_open_protocol.patch
git am ../patch/0001-efi_loader-efi_open_protocol-parameter-checks.patch
git am ../patch/0001-efi_loader-implement-InstallProtocolInterface.patch
git am ../patch/0001-efi_loader-implement-UninstallProtocolInterface.patch
git am ../patch/0001-efi_loader-implement-InstallMultipleProtocolInterfac.patch
git am ../patch/0001-efi_loader-split-of-efi_locate_handle_ext.patch
git am ../patch/0001-efi_loader-implement-LocateHandleBuffer.patch
